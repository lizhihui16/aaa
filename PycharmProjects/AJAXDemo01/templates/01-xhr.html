<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <script>
        function createXhr() {
            var xhr=null;
            if(window.XMLHttpRequest){
                xhr=new XMLHttpRequest();
            }else{
                xhr=new ActiveXObject('Microsoft.XMLHTTP');

            }
            return xhr;
        }

        function btnAjax(){
            //1.创建xhr
            var xhr = createXhr();
            //2.创建请求
//            xhr.open('get','/server',true);
            xhr.open('get','/server?uname=wangwc',true);

            //3.设置回调函数
            xhr.onreadystatechange=function () {
                //判断xhr的状态以及服务器的状态
                if(xhr.readyState==4 && xhr.status==200){
                    document.getElementById('show').innerHTML=xhr.responseText
                }
            }
            //4.发送请求
            xhr.send(null);
        }


    </script>

    <!--<button onclick="console.log(createXhr())">测试异步对象</button>-->

    <div id="show"></div>

    <button onclick="btnAjax()">AJAX请求</button>
</body>
</html>